
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>GetFX NBP API module &#8212; GetFX  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Commandline parser module" href="cmdparser.html" />
    <link rel="prev" title="GetFX base module" href="getfx.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <span class="target" id="module-getfx.getfxnbp"></span><section id="getfx-nbp-api-module">
<h1>GetFX NBP API module<a class="headerlink" href="#getfx-nbp-api-module" title="Permalink to this headline">¶</a></h1>
<p>Module implements NBP specific API to retrieve FX rates.</p>
<p>Provides <a class="reference internal" href="#getfx.getfxnbp.init_cmd" title="getfx.getfxnbp.init_cmd"><code class="xref py py-func docutils literal notranslate"><span class="pre">init_cmd()</span></code></a> function to parse commandline attributes and
<a class="reference internal" href="#getfx.getfxnbp.GetFxNBP" title="getfx.getfxnbp.GetFxNBP"><code class="xref py py-class docutils literal notranslate"><span class="pre">GetFxNBP</span></code></a> class which implements specific methods to
retrieve FX rates.</p>
<p>It depends on <a class="reference internal" href="cmdparser.html#module-getfx.cmdparser" title="getfx.cmdparser"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cmdparser</span></code></a> module which provides
<a class="reference internal" href="cmdparser.html#getfx.cmdparser.DEFAULT_CURRENCY" title="getfx.cmdparser.DEFAULT_CURRENCY"><code class="xref py py-const docutils literal notranslate"><span class="pre">DEFAULT_CURRENCY</span></code></a> and
<a class="reference internal" href="cmdparser.html#getfx.cmdparser.parse_getfx" title="getfx.cmdparser.parse_getfx"><code class="xref py py-func docutils literal notranslate"><span class="pre">parse_getfx()</span></code></a> method to parse commandline
arguments. It uses <a class="reference internal" href="#getfx.getfxnbp.NBP_API_URL" title="getfx.getfxnbp.NBP_API_URL"><code class="xref py py-const docutils literal notranslate"><span class="pre">NBP_API_URL</span></code></a> which contains URL for NBP API.</p>
<dl class="py data">
<dt class="sig sig-object py" id="getfx.getfxnbp.NBP_API_URL">
<span class="sig-prename descclassname"><span class="pre">getfx.getfxnbp.</span></span><span class="sig-name descname"><span class="pre">NBP_API_URL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://api.nbp.pl/api/exchangerates/rates/A'</span></em><a class="headerlink" href="#getfx.getfxnbp.NBP_API_URL" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines NBP API URL used for requests</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="getfx.getfxnbp.init_cmd">
<span class="sig-prename descclassname"><span class="pre">getfx.getfxnbp.</span></span><span class="sig-name descname"><span class="pre">init_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">test_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#getfx.getfxnbp.init_cmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse command line attributes and create <a class="reference internal" href="#getfx.getfxnbp.GetFxNBP" title="getfx.getfxnbp.GetFxNBP"><code class="xref py py-class docutils literal notranslate"><span class="pre">GetFxNBP</span></code></a> instance.</p>
<p>It uses <a class="reference internal" href="cmdparser.html#getfx.cmdparser.parse_getfx" title="getfx.cmdparser.parse_getfx"><code class="xref py py-func docutils literal notranslate"><span class="pre">parse_getfx()</span></code></a> to parse commandline
attributes. It creates instance of <a class="reference internal" href="#getfx.getfxnbp.GetFxNBP" title="getfx.getfxnbp.GetFxNBP"><code class="xref py py-class docutils literal notranslate"><span class="pre">GetFxNBP</span></code></a> to
handle request and response from NBP API.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>SystemExit</strong> – <p>for incorrect commandline attributes, with following
exit codes:</p>
<ul class="simple">
<li><p><cite>0</cite> - no errors</p></li>
<li><p><cite>1</cite> - no connection (see <a class="reference internal" href="#getfx.getfxnbp.GetFxNBP._get_response" title="getfx.getfxnbp.GetFxNBP._get_response"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_get_response()</span></code></a> method)</p></li>
<li><p><cite>2</cite> - incorrect date or currency parameter</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<div class="line-block">
<div class="line"><br /></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="getfx.getfxnbp.GetFxNBP">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">getfx.getfxnbp.</span></span><span class="sig-name descname"><span class="pre">GetFxNBP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">currency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'CHF'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#getfx.getfxnbp.GetFxNBP" title="Permalink to this definition">¶</a></dt>
<dd><p>Subclass of <a class="reference internal" href="getfx.html#getfx.getfx.GetFX" title="getfx.getfx.GetFX"><code class="xref py py-class docutils literal notranslate"><span class="pre">GetFX</span></code></a> class to implement NBP
specific FX retrieval logic.</p>
<p>It does not provide public methods, instead it is assumed when instance is
created, NBP API is invoked and FX rate retrieved. Access to retrieved rate
is achieved via printing the instance using overriden: <a class="reference internal" href="#getfx.getfxnbp.GetFxNBP.__str__" title="getfx.getfxnbp.GetFxNBP.__str__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__str__()</span></code></a>
method.</p>
<dl class="py method">
<dt class="sig sig-object py" id="getfx.getfxnbp.GetFxNBP.__str__">
<span class="sig-name descname"><span class="pre">__str__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#getfx.getfxnbp.GetFxNBP.__str__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return formatted string to display currency rate information.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="getfx.getfxnbp.GetFxNBP._get_response">
<span class="sig-name descname"><span class="pre">_get_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">currency</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#getfx.getfxnbp.GetFxNBP._get_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Receive JSON response from FX provider.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ValueError</strong> – incorrect request parameters</p></li>
<li><p><strong>ConnectionError</strong> – with exit code(1) when lack of internet
connection</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>



          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">GetFX</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Source documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="package.html">GetFX package</a></li>
<li class="toctree-l2"><a class="reference internal" href="getfx.html">GetFX base module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">GetFX NBP API module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cmdparser.html">Commandline parser module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Source documentation</a><ul>
      <li>Previous: <a href="getfx.html" title="previous chapter">GetFX base module</a></li>
      <li>Next: <a href="cmdparser.html" title="next chapter">Commandline parser module</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Kamil Niklasinski.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/implementation/getfxnbp.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>